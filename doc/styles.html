<!DOCTYPE html>
<html><head></head><body><h1 operator="" id="styles">Styles</h1><p>Neomacs manages a collection of <i>styles</i> named by symbols. A style is either a mixin defined with <code>defstyle</code> or a style sheet defined with <code>defsheet</code>. A mixin specify a collection of CSS attributes, and a style sheet map CSS selectors to CSS attributes. Styles can inherit from each other. A buffer can include a list of style sheets (via buffer&#39;s <code>styles</code> slot), which are compiled to CSS and injected into the renderer. Neomacs automatically updates affected CSS if any style is changed because of redefinition or <code>set-style</code>.</p><p>Format of mixin style (<code>defstyle</code>) spec: <code>({block | :key value}*)</code>, where each block has the format <code>(selector {block | :key value}*)</code></p><p>Format of sheet style (<code>defsheet</code>) spec: <code>(block*)</code></p><p>Above <code>:key</code>&#39;s are either CSS attribute names, or <code>:inherit</code>, in which case <code>value</code> should name a style which would be expanded in place.</p><dl><dt operator="" class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">&#39;defstyle</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">&#39;defsheet</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">vardoc</span><span class="symbol">&#39;*styles*</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">&#39;set-style</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">&#39;css-cell</span></div></dt></dl><h2 id="mode-style-sheets">Mode style sheets</h2><p>If a style with the same name as a mode is present, enabling this mode will automatically load it into current buffer (therefore it should always be a style sheet rather than a mixin). This style sheet is intended for the mode to define styles for nodes it uses, and is therefore not removed when the mode is disabled, to avoid repeated loading in case the mode is enabled again later.</p><p>Sometimes you might want to use mode style sheets to modify appearance of a buffer, in which case you should add a <code>disable-aux</code> method to remove such style sheet when the mode is disabled.</p><h2 id="mounting-assets-directories">Mounting assets directories</h2><p>The renderer processes don&#39;t have direct access to your file system. To use local assets in the renderer (in HTML, CSS, JavaScript, etc), mount them under the <code>neomacs</code> protocol scheme.</p><dl><dt operator="" class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">&#39;mount-asset</span></div></dt></dl><p>By default, <code>neomacs://sys/</code> is mounted to assets that come with Neomacs and <code>neomacs://user/</code> is mounted to <code>(uiop:xdg-config-home &quot;neomacs/assets/&quot;)</code> (usually located at <code>~/.config/neomacs/assets/</code> on Unix-like systems). For example, <code>neomacs://user/1.png</code> would access <code>~/.config/neomacs/assets/1.png</code>. <code>neomacs://contents/</code> is reserved for internal use (currently, <code>file-mode</code> use it to serve temporarily generated HTML).</p><h2 id="themes">Themes</h2><dl><dt operator="" class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">&#39;apply-theme</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">&#39;define-theme</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">vardoc</span><span class="symbol">&#39;*themes*</span></div></dt></dl></body></html>