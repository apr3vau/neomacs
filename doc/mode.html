<h1 class="">Modes</h1><p>Neomacs use modes to provide functionalities to buffers. Neomacs modes are <i>mixins</i>, i.e. CLOS classes that can be dynamically added to buffers. A Neomacs buffer always inherit from zero or more modes and the <code>buffer</code> class.</p><dl><dt class="comma-expr"><div class="list"><span class="symbol" operator="">classdoc</span><span class="symbol">'mode</span></div></dt></dl><p>Mixins mostly supersede buffer-local variables and hooks used in previous editors like Emacs and Hemlock. Modes can have slots, which are introduced to the buffers that enable them. Methods that specialize on a mode customize behavior of generic functions on buffers. Many generic functions (e.g. <code>on-*</code>) in Neomacs has a buffer as the first argument, which is suitable for specializing on modes. Many ordinary functions in Neomacs has a backing generic function which has a buffer as first argument, usually with name <code>*-aux</code>.</p><h2>Toggling modes</h2><dl><dt class="comma-expr"><div class="list"><span class="symbol" operator="">fundoc</span><span class="symbol">'enable</span></div></dt><dt class="comma-expr"><div class="list"><span class="symbol" operator="">fundoc</span><span class="symbol">'disable</span></div></dt><dt class="comma-expr"><div class="list"><span class="symbol" operator="">fundoc</span><span class="symbol">'toggle</span></div></dt></dl><p>Mode toggling hooks:</p><dl><dt operator="" class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'enable-aux</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'disable-aux</span></div></dt></dl><h2>Mode hooks</h2><dl><dt operator="" class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'hooks</span></div></dt></dl><p>Mode hooks and super-modes both allow enabling some other modes when a mode is enabled, which may be somewhat confusing. Suppose mode A has mode B in its <code>hooks</code> and mode C as its super-mode, note the differences:</p><ul><li operator=""> Mode B (in mode hooks) can be disabled or enabled again independently from mode A, while disabling mode C (as super-mode) also disables mode A</li><li>Code for enabling mode B (in mode hooks) runs after mode A, while code for enabling mode C (as super-mode) runs before mode A</li></ul><p>Thefore, super-modes are best used for expressing dependencies between modes (e.g. <code>minibuffer-completion-mode</code> has <code>minibuffer-mode</code> as a super-mode), and mode hooks are best used for suggesting using some other modes together with a mode (e.g. <code>prog-mode</code> has <code>undo-mode</code> in its mode hooks by default).</p><h2>Defining modes</h2><dl><dt class="comma-expr" operator=""><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'define-mode</span></div></dt></dl>
