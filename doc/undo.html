<h1>Undo</h1><p>Undo support in Neomacs is provided by <code>undo-mode</code>.</p><dl><dt operator="" class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">classdoc</span><span class="symbol">'undo-mode</span></div></dt></dl><h2>Undo commands</h2><dl><dt operator="" class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'undo</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'redo</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'next-branch</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'previous-branch</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'undo-history</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'quit-undo-history</span></div></dt></dl><h2>Recording undo information</h2><p>The primitive <code>record-undo</code> adds a pair of thunks to the undo history, which are called to undo or redo some changes.</p><dl><dt operator="" class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'record-undo</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">vardoc</span><span class="symbol">'*inhibit-record-undo*</span></div></dt></dl><p> All <a href="edit.html#editing-primitives">editing primitives</a> maintain undo information themselves. Changes to <a href="dom.html#attributes">attributes</a> are normally not recorded in undo history, but you can bind <code>*record-attribute-undo*</code> to <code>t</code> to make attribute changes undoable.</p><dl><dt operator="" class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">vardoc</span><span class="symbol">'*record-attribute-undo*</span></div></dt></dl><h2>Undo boundaries</h2><p>Undo commands and the <code>undo-history</code> buffer both group series of undoable changes and operates on them as a whole. An <i>undo boundary</i> marks the end of previous group and the start of a new one. The <a href="command-loop.html">command loop</a> inserts an undo boundary before every command invocation, but this can be removed by <code>remove-undo-boundary</code>, or automatically by <code>undo-auto-amalgamate</code>.</p><dl><dt operator="" class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'undo-boundary</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'remove-undo-boundary</span></div></dt><dt class=" comma-expr"><div class="list" operator=""><span class="symbol" operator="">fundoc</span><span class="symbol">'undo-auto-amalgamate</span></div></dt></dl>
